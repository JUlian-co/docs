# Yi -- Chain-abstracted Smart Accounts

Yi is a framework for building with chain-abstracted smart accounts (CASA for short).  With a CASA, your tokens across all chains are unified into a chain-abstracted balance (CAB) that is simultaneously available on every chain.  You can then spend that CAB on any chain, without ever dealing with bridges.

The use cases of chain abstraction are endless.  Here are a few examples:

## Using CASA

There are two ways to use CASA:

- If you have already integrated with a smart account (presumably with a smart account framework such as ZeroDev/Biconomy/Alchemy/Permissionless), you can turn the smart account into a CASA with the Yi SDK.

- If you are building a new application, you can use the Yi Connector to easily enable your users to create Yi accounts.

  - From EOA
  - From social providers
    - Build tutorials with Privy/Dynamic
  - From passkeys


### Building a new application on CASA

Let's not support Coinbase Smart Wallet for now -- it doesn't work with permissions, won't work with CAB, and can't import accounts.  It's purely useless.

Create a EIP-1193 provider or a Wagmi connector that:

- Speak the EIP-5792 capabilities APIs
- Can enable common capabilities directly
  - Sponsorship: specify the paymaster URL; then it will be used for all txns (and if a txn is not sponsored, it's sent without paymaster).
  - Batching: use `sendCalls`
  - Permissions:
    - just specify permissions, which will then be applied to all calls???
  - CAB
    - getBalance and `readContractERC20` returns the correct CAB balances
    - sendTransaction automatically uses CAB

# Yi -- Chain-abstracted Smart Accounts

Yi is a framework for building with chain-abstracted smart accounts (CASA).  With Yi, you can turn an existing smart account into CASA, or you can build a new application on CASA.

## Setting up a Yi Connector

```ts
import { createConfig, http } from '@wagmi/core'
import { mainnet, sepolia } from '@wagmi/core/chains'
import { yiPasskeyConnector } from '@yi/connectors'
 
export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [yiPasskeyConnector({
    // if set, this will execute all transactions within the session,
    // thus skipping confirmation prompts
    useSession: {
      // 7715 permissions
    },
    cab: {

    },
  })],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
})
```

## Setting up Yi with Embedded Signers

You can use a solution like Privy/Dynamic as the signin frontend, while using their signer to power your Yi account.

```ts
import { signerToProvider } from '@yi/sdk'
 

const {

} = useWalletClient()

const signer = walletClientToSmartAccountSigner(walletClient)

const provider = await signerToProvider({
  signer: signer,
  useSession: {
    // 7715 permissions
  },
  cab: {

  },
})
 
```

### Setting up Yi with EOA signers